{% extends 'app/base.html' %} 
{% block body %}
<div class="min-h-screen bg-gray-50 text-gray-800">
    <div class="flex flex-col sm:flex-row justify-between items-center mx-4 sm:mx-20 mt-10">
        <div class="font-bold text-xl sm:text-2xl text-gray-800">My Purchases </div>
        <div class="font-bold text-sm sm:text-sm text-gray-800">{{user.email}}</div>
        
    </div>

    <div class="order-container bg-white shadow-lg p-6 sm:p-10 mx-4 sm:mx-20 my-10 rounded-lg">
        <div class="order-header hidden sm:flex font-bold text-blue-700 border-b-2 border-blue-200 pb-2 mb-6">
            <div class="w-1/4">Background</div>
            <div class="w-1/4">Name</div>
            <div class="w-1/4">Purchase Date</div>
            <div class="w-1/4">Download Link</div>
        </div>
        {% for order in orders %}  
        <div class="flex flex-col sm:flex-row items-center text-gray-700 border-b-2 border-gray-200 pb-2 mb-4">
            <div class="w-full sm:w-1/4 mb-2 sm:mb-0">
                <div class="rounded-full h-16 w-16 flex justify-center items-center overflow-hidden mx-auto sm:mx-0">
                    <img class="rounded-full object-cover" src="{{ order.product.preview_image.url }}" alt="{{ order.product.name }}">
                </div>
            </div>
            <div class="w-full sm:w-1/4 mb-2 sm:mb-0 text-center sm:text-left">{{ order.product.name }}</div>
            <div class="w-full sm:w-1/4 mb-2 sm:mb-0 text-center sm:text-left">{{ order.created_on | date:"m-d-y"}}</div>
            <div class="w-full sm:w-1/4 text-center sm:text-left">
                <a class="bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded shadow transition duration-300" href="{{ order.product.file.url }}" download>Click to download</a>
            </div>
        </div> 
        {% endfor %}
        <div class="text-gray-600 text-xs sm:text-sm mt-2 sm:mt-0">For support, contact: <a href="mailto:codewithalex757@gmail.com" class="text-blue-600">codewithalex757@gmail.com</a></div>
    </div>
</div>
{% endblock %}
